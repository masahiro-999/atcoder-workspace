import os
import sys
sys.path.append(os.path.join(os.path.dirname(__file__), '..'))

from abc228.D.main import solve

import pytest

@pytest.mark.parametrize("Q, tx, expected", [
    (3, [(1, 10), (1, 20), (2, 10), (2,20)], [10, 20]),
    (3, [(1, 10), (1, 10), (2, 10), (2,11)], [10, 10]),
    (3, [(1, 10), (1, 12), (1, 11), (2,10), (2, 11), (2,12)], [10,11,12]),
    (3, [(1, 10), (1, 12), (1, 11), (1,10), (2,10), (2, 11), (2,12), (2,13)], [10,11,12,10]),
    (3, [(1, 10), (1, 12), (1, 11), (1,11), (2,10), (2, 11), (2,12), (2,13)], [10,11,12,11]),
    (3, [(1, 10), (1, 12), (1, 11), (1,12), (2,10), (2, 11), (2,12), (2,13)], [10,11,12,12]),
    (3, [(1, 10), (1, 12), (1, 11), (1,13), (2,10), (2, 11), (2,12), (2,13)], [10,11,12,13]),

])
def test_solve(capsys, Q, tx, expected):
    solve(Q, tx)
    out, _ = capsys.readouterr()
    assert list(map(int, out.split()))==expected

